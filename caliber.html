<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>Caliber Collision</title>
    <link rel="shortcut icon" type="image/jpg" href="https://www.caliber.com/favicon.png"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0056b3;
            --secondary-color: #6c757d;
            --background-color: #f8f9fa;
            --text-color: #333;
            --border-color: #dee2e6;
        }

        body {
            background-color: var(--background-color);
            margin: 0;
            padding: 0;
            font-family: 'Roboto', Arial, sans-serif;
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
        }

        .input-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .input-group {
            flex: 1;
            margin-right: 20px;
        }

        .input-group:last-child {
            margin-right: 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--secondary-color);
        }

        .input-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 16px;
        }

        #inline-widget {
            height: 500px;
            width: 100%;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
        }

        .hidden {
            display: none;
        }

        .warningText {
            color: #ffc107;
            text-align: center;
            margin: 20px 0;
        }

        .successText {
            color: #28a745;
            text-align: center;
            margin: 20px 0;
        }

        .conversationContainer {
            margin-top: 30px;
            padding: 20px;
            background-color: #f1f3f5;
            border-radius: 8px;
        }

        .conversationContainer h3 {
            color: var(--primary-color);
            margin-top: 0;
        }

        .conversation {
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 14px;
            background-color: #fff;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
        }

        @media only screen and (max-width: 600px) {
            .container {
                padding: 15px;
            }

            .input-row {
                flex-direction: column;
            }

            .input-group {
                margin-right: 0;
                margin-bottom: 15px;
            }

            #inline-widget {
                height: 400px;
            }
        }
    </style>
    <script src="https://caliber-stage.quiq-api.com/app/chat-ui/index.js" charset="UTF-8"></script>
    <script src="https://caliber-stage.goquiq.com/app/ui-extensions/sdk.js"></script>
</head>
<body>
    <div class="container">
        <h1>Caliber Collision Chat</h1>
        <div class="input-row">
            <div class="input-group">
                <label for="drp-client">DRP Client:</label>
                <input type="text" id="drp-client" name="drp-client" placeholder="Enter DRP client">
            </div>
            <div class="input-group">
                <label for="state">State:</label>
                <input type="text" id="state" name="state" placeholder="Enter state">
            </div>
        </div>
        <div id="inline-widget"></div>
        
        <h4 class="successText hidden">Look at the Send Message area of the Messaging App!</h4>
        <h3 class="warningText">Any changes made to your messaging site will be live.</h3>
        <div class="conversationContainer hidden">
            <h3>Conversation Object</h3>
            <div class="conversation"></div>
        </div>
    </div>
    <script>
        var chat = Quiq({
            pageConfigurationId: 'web-ux-cs'
        });

        var tenant = "caliber-stage"; // Replace with your actual tenant name if different

        Quiq.init(`https://${tenant}.goquiq.com`);

        Quiq.on("init", function (conversation) {
            document.querySelector(".conversation").innerText = JSON.stringify(conversation, null, 2);
            document.querySelector(".conversationContainer").classList.remove("hidden");

            Quiq.prepareMessage("Successfully initialized Quiq UI Extension!");
            document.querySelector(".successText").classList.remove("hidden");
        });
    </script>
</body>
</html>